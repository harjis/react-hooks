(this["webpackJsonpreact-hooks-tutorial"]=this["webpackJsonpreact-hooks-tutorial"]||[]).push([[0],{11:function(t,e,n){"use strict";n.r(e);var o=n(0),r=n(1),c=n.n(r),i=n(5),a=n.n(i),u=n(3),s=n(2),l={},f={counter:0},d=function(){var t=c.a.useState(!0),e=Object(s.a)(t,2),n=e[0],r=e[1],i=Array.from({length:5},(function(t,e){return e}));return Object(o.jsxs)("div",{children:[Object(o.jsx)("div",{children:Object(o.jsx)("button",{onClick:function(){r((function(t){return!t}))},children:n?"Click to unmount":"Click to mount"})}),n&&i.map((function(t){return Object(o.jsx)(j,{id:t},t)}))]})};function j(t){var e=function(t){var e=t.initialState,n=t.localStorageKey,o=t.persistent,r=void 0===o||o,i=t.timeToLive,a=void 0===i?288e5:i,u=c.a.useRef(null);c.a.useEffect((function(){if(l[n])throw new Error("Key: ".concat(n," is already in use by another hook"));return l[n]=!0,function(){delete l[n]}}),[]);var f=c.a.useState((function(){try{var t=localStorage.getItem(n);return t?JSON.parse(t):(localStorage.setItem(n,JSON.stringify(e)),e)}catch(o){return e}})),d=Object(s.a)(f,2),j=d[0],b=d[1];return{state:j,save:function(t){try{b(t),localStorage.setItem(n,JSON.stringify(t)),u.current=Date.now()}catch(e){console.log(e)}},remove:function(){localStorage.removeItem(n),b(e),delete l[n]},verify:function(){r&&r&&null!==u.current&&Date.now()-a>u.current&&localStorage.removeItem(n)}}}({initialState:f,localStorageKey:"my-storage-"+t.id}),n=e.save,r=e.remove,i=e.state,a=c.a.useState(i),d=Object(s.a)(a,2),j=d[0],b=d[1];return Object(o.jsxs)("div",{style:{display:"flex",flexDirection:"column"},children:[Object(o.jsxs)("div",{children:[Object(o.jsx)("button",{onClick:function(){return b((function(t){return Object(u.a)(Object(u.a)({},t),{},{counter:t.counter+1})}))},children:"+"}),Object(o.jsx)("button",{onClick:function(){return b((function(t){return Object(u.a)(Object(u.a)({},t),{},{counter:t.counter-1})}))},children:"-"}),Object(o.jsx)("button",{onClick:function(){return n(j)},children:"Save to store"}),Object(o.jsx)("button",{onClick:function(){return r()},children:"Remove from store"})]}),Object(o.jsxs)("div",{children:["counter: ",j.counter," persistedState: ",i.counter]})]})}Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a.a.render(Object(o.jsx)(d,{}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(t){t.unregister()}))}},[[11,1,2]]]);
//# sourceMappingURL=main.3e2290f5.chunk.js.map